(function(t){function e(e){for(var n,i,a=e[0],c=e[1],l=e[2],d=0,m=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&m.push(o[i][0]),o[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],n=!0,a=1;a<s.length;a++){var c=s[a];0!==o[c]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var n={},o={app:0},r=[];function i(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=n,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dashboard/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";s("85ec")},3280:function(t,e,s){t.exports=s.p+"img/dtu.5d49d479.png"},"338e":function(t,e,s){},"54fc":function(t,e,s){"use strict";s("db5b")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("b-navbar",{staticClass:"shadow",staticStyle:{"background-color":"#900 !important"},attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[n("b-navbar-brand",{attrs:{href:"#"}},[n("img",{staticClass:"d-inline-block align-top",attrs:{src:s("3280"),alt:"DTU",height:"30"}}),t._v(" PDL - ProcessDryLab ")]),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-item",[t._v("About")])],1)],1)],1),n("b-container",{attrs:{fluid:""}},[n("b-row",[n("nav",{staticClass:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse border-right p-0 "},[n("div",{staticClass:"sidebar-sticky pt-3"},[n("b-button-group",{staticClass:"ml-3"},[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.new-process-empty",modifiers:{"new-process-empty":!0}}],attrs:{variant:"outline-secondary",disabled:"online"!=this.systemStatus}},[n("font-awesome-icon",{attrs:{icon:"file"}}),t._v(" New")],1),n("b-dropdown",{attrs:{right:"",text:"Import",variant:"outline-secondary"}},[n("b-dropdown-item",{attrs:{variant:"outline-secondary",disabled:"online"!=this.systemStatus},on:{click:t.loadDemo}},[t._v("Demo")]),n("b-dropdown-item",{directives:[{name:"b-modal",rawName:"v-b-modal.new-process",modifiers:{"new-process":!0}}],attrs:{variant:"outline-secondary",disabled:"online"!=this.systemStatus}},[t._v("Import from JSON")]),n("b-dropdown-item",{directives:[{name:"b-modal",rawName:"v-b-modal.mine-log",modifiers:{"mine-log":!0}}],attrs:{variant:"outline-secondary",disabled:"online"!=this.systemStatusMiner}},[t._v("Mine from an XES with DisCoveR")]),n("b-dropdown-item",{directives:[{name:"b-modal",rawName:"v-b-modal.mine-log-palia",modifiers:{"mine-log-palia":!0}}],attrs:{variant:"outline-secondary",disabled:"online"!=this.systemStatusPalia}},[t._v("Mine from an XES with Palia")])],1)],1),n("h6",{staticClass:"sidebar-heading justify-content-between align-items-center px-3 mt-4 mb-1 text-muted",class:this.processes.length>0?"d-flex":"d-none"},[t._v(" Processes ")]),n("ProcessesList",{attrs:{processes:t.processes},on:{newProcessJson:t.newProcessFromJson}}),n("SystemStatus",{attrs:{systemStatus:t.systemStatus,systemStatusMiner:t.systemStatusMiner,systemStatusPalia:t.systemStatusPalia}}),n("NewProcess",{on:{newProcessFromJson:t.newProcessFromJson}}),n("NewProcessEmpty",{on:{newProcessEmpty:t.newProcessEmpty}}),n("Mine",{on:{newProcessMined:t.newProcessMined}}),n("MinePalia",{on:{newProcessMined:t.newProcessMinedPalia}})],1)]),n("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 pl-md-4 pt-3 pr-0",attrs:{role:"main"}},[n("router-view",{attrs:{processes:t.processes,refreshProcess:t.refreshProcess},on:{newConstraint:t.newConstraint,processRereshed:t.processRereshed}})],1)])],1)],1)},r=[],i=s("2909"),a=(s("99af"),s("4de4"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list-group list-group-flush"},[t._l(t.processes,(function(e){return s("b-list-group-item",{key:e.id,staticClass:"list-group-item list-group-item-action bg-light border-0 align-items-center p-2 pl-3",attrs:{to:{name:"ProcessView",params:{id:e.id}}}},[s("font-awesome-icon",{attrs:{icon:"file"}}),t._v(" "+t._s(e.name)+" "),"dcr"==e.type?s("b-badge",[t._v("DCR")]):t._e(),"palia"==e.type?s("b-badge",[t._v("PALIA")]):t._e()],1)})),s("UploadFile",{on:{uploadedFile:t.uploadedFile}})],2)}),c=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("vue-dropzone",{ref:"myVueDropzone",attrs:{id:"dropzone",options:t.dropzoneOptions},on:{"vdropzone-file-added":t.sendingFile}})],1)},u=[],d=(s("b0c0"),s("92c3")),m=s.n(d),p=(s("1e3f"),{name:"UploadFile",components:{vueDropzone:m.a},data:function(){return{dropzoneOptions:{autoProcessQueue:!1,url:"https://localhost",previewsContainer:!1,dictDefaultMessage:"Drop a DCR <code>.json</code> file"}}},methods:{sendingFile:function(t){var e=this,s=new FileReader;s.onload=function(s){return e.$emit("uploadedFile",t.name,s.target.result)},s.readAsText(t,"UTF-8")}}}),f=p,h=(s("77ea"),s("2877")),b=Object(h["a"])(f,l,u,!1,null,null,null),g=b.exports,v={name:"ProcessesList",props:["processes"],components:{UploadFile:g},methods:{uploadedFile:function(t,e){var s=JSON.parse(e).DCRModel[0].title;void 0===s&&(s="Imported from "+t),this.$emit("newProcessJson",s,e)}}},y=v,w=Object(h["a"])(y,a,c,!1,null,null,null),P=w.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"mb-1 mx-3 small",staticStyle:{position:"fixed",bottom:"0"}},[s("p",[s("font-awesome-icon",{class:this.systemStatusClass,attrs:{icon:"circle"}}),t._v(" "+t._s(this.getSystemStatus())),s("br"),s("small",{staticClass:"text-secondary"},[s("font-awesome-icon",{staticClass:"mr-1",class:this.systemStatus,attrs:{icon:"server"}}),t._v(" "+t._s(this.$backend.getHostname())+" "),s("br"),s("font-awesome-icon",{staticClass:"mr-1",class:this.systemStatusMiner,attrs:{icon:"server"}}),t._v(" "+t._s(this.$backendMiner.getHostname())),s("br"),s("font-awesome-icon",{staticClass:"mr-1",class:this.systemStatusPalia,attrs:{icon:"server"}}),t._v(" "+t._s(this.$backendPalia.getHostname())+" ")],1)],1)])},k=[],_={name:"SystemStatus",props:["systemStatus","systemStatusMiner","systemStatusPalia"],computed:{systemStatusClass:function(){return"online"===this.systemStatus&&"online"===this.systemStatusMiner&&"online"===this.systemStatusPalia?"online":"booting"===this.systemStatus||"booting"===this.systemStatusMiner||"booting"===this.systemStatusPalia?"booting":"offline"}},methods:{getSystemStatus:function(){return"online"===this.systemStatus&&"online"===this.systemStatusMiner&&"online"===this.systemStatusPalia?"System online":"booting"===this.systemStatus||"booting"===this.systemStatusMiner||"booting"===this.systemStatusPalia?"Booting...":"System offline"}}},x=_,U=(s("6c4a"),Object(h["a"])(x,S,k,!1,null,"4086e630",null)),O=U.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{attrs:{id:"new-process",title:"New Process"},on:{ok:t.handleOk}},[s("b-form-group",{attrs:{label:"Process name:","label-for":"processName"}},[s("b-form-input",{attrs:{required:"",placeholder:"Process name"},model:{value:t.processName,callback:function(e){t.processName=e},expression:"processName"}})],1),s("b-form-group",{attrs:{label:"JSON:","label-for":"baseTopic"}},[s("b-form-textarea",{attrs:{id:"textarea",placeholder:"DCR Json",rows:"3","max-rows":"6",required:""},model:{value:t.processJson,callback:function(e){t.processJson=e},expression:"processJson"}})],1)],1)},M=[],j={data:function(){return{processName:"",processJson:""}},methods:{handleOk:function(){this.$emit("newProcessFromJson",this.processName,this.processJson)}}},$=j,N=Object(h["a"])($,C,M,!1,null,null,null),R=N.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{attrs:{id:"new-process-empty",title:"New Process"},on:{ok:t.handleOk}},[s("b-form-group",{attrs:{label:"Process name:","label-for":"processName"}},[s("b-form-input",{attrs:{required:"",placeholder:"Process name"},model:{value:t.processName,callback:function(e){t.processName=e},expression:"processName"}})],1)],1)},E=[],J={data:function(){return{processName:""}},methods:{handleOk:function(){this.$emit("newProcessEmpty",this.processName)}}},L=J,F=Object(h["a"])(L,D,E,!1,null,null,null),I=F.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{attrs:{id:"mine-log",title:"Mine a log"},on:{ok:t.handleOk}},[s("b-form-group",[s("b-form-file",{attrs:{state:Boolean(t.file),placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here..."},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1)],1)},A=[],T=s("bc3a"),H=s.n(T),B={data:function(){return{file:null}},methods:{handleOk:function(){var t=this;this.$toastr.s("Log submitted for mining");var e=new FormData;e.append("file",this.file),H.a.post(this.$backendMiner.getUrlMiner(),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return t.$emit("newProcessMined",t.file.name,e.data)})).catch((function(t){return console.error(t)}))}}},q=B,Z=Object(h["a"])(q,z,A,!1,null,null,null),V=Z.exports,X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{attrs:{id:"mine-log-palia",title:"Mine a log with Palia"},on:{ok:t.handleOk}},[s("b-form-group",[s("b-form-file",{attrs:{state:Boolean(t.file),placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here..."},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1)],1)},G=[],Q={data:function(){return{file:null}},methods:{handleOk:function(){var t=this;this.$toastr.s("Log submitted for mining");var e=new FormData;e.append("file",this.file),H.a.post(this.$backendPalia.getUrlMiner(),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return t.$emit("newProcessMined",t.file.name,e.data)})).catch((function(t){return console.error(t)}))}}},K=Q,W=Object(h["a"])(K,X,G,!1,null,null,null),Y=W.exports,tt=s("ec26"),et={components:{ProcessesList:P,SystemStatus:O,NewProcess:R,NewProcessEmpty:I,Mine:V,MinePalia:Y},data:function(){return{processes:[],systemStatus:"booting",systemStatusMiner:"booting",systemStatusPalia:"booting",refreshProcess:!1}},methods:{checkStatus:function(){var t=this;H.a.get(this.$backend.getUrlPing()).then((function(e){return t.systemStatus="pong"===e.data?"online":"offline"})).catch((function(e){console.error(e),t.systemStatus="offline"})),H.a.get(this.$backendMiner.getUrlPing()).then((function(e){return t.systemStatusMiner="pong"===e.data?"online":"offline"})).catch((function(e){console.error(e),t.systemStatusMiner="offline"})),H.a.get(this.$backendPalia.getUrlPing()).then((function(e){return t.systemStatusPalia="pong"===e.data?"online":"offline"})).catch((function(e){console.error(e),t.systemStatusPalia="offline"}))},addProcess:function(t,e,s){this.processes=[].concat(Object(i["a"])(this.processes),[{id:Object(tt["a"])(),type:s,name:t,json:JSON.parse(e),dot:null}]),this.$toastr.s("New process created!")},addProcessFromDot:function(t,e,s){this.processes=[].concat(Object(i["a"])(this.processes),[{id:Object(tt["a"])(),type:s,name:t,dot:e}]),this.$toastr.s("New process created!")},newProcessFromJson:function(t,e,s){var n=this;H.a.post(this.$backend.getUrlImportFromDcrJson(),JSON.parse(e)).then((function(e){return n.addProcess(t,JSON.stringify(e.data),s)})).catch((function(t){return console.error(t)}))},newProcessMined:function(t,e){this.addProcess(t,JSON.stringify(e),"dcr")},newProcessMinedPalia:function(t,e){this.addProcessFromDot(t,e,"palia")},newProcessEmpty:function(t){this.addProcess(t,'{"activities":[],"relations":[]}',"dcr")},loadDemo:function(){this.newProcessFromJson("Demo",'{"DCRModel":[{"description":"","type":"DCRModel","roles":[],"events":[{"id":"35f2811d-75f6-41bc-8c4c-cedae6afd4a2","label":"Create"},{"id":"229f74ee-8ec1-4b95-8a26-7cbaed060a08","label":"Approve"},{"id":"070adbfc-dd39-4db2-a5ee-b599c70d5e80","label":"Payout"},{"id":"18cb3d0f-9fd4-47d8-b86f-f1654eaed760","label":"Reject"}],"rules":[{"type":"exclude","source":"35f2811d-75f6-41bc-8c4c-cedae6afd4a2","target":"35f2811d-75f6-41bc-8c4c-cedae6afd4a2","description":""},{"type":"include","source":"229f74ee-8ec1-4b95-8a26-7cbaed060a08","target":"070adbfc-dd39-4db2-a5ee-b599c70d5e80","description":""},{"type":"condition","source":"35f2811d-75f6-41bc-8c4c-cedae6afd4a2","target":"229f74ee-8ec1-4b95-8a26-7cbaed060a08","description":""},{"type":"condition","source":"35f2811d-75f6-41bc-8c4c-cedae6afd4a2","target":"18cb3d0f-9fd4-47d8-b86f-f1654eaed760","description":""},{"type":"condition","source":"229f74ee-8ec1-4b95-8a26-7cbaed060a08","target":"070adbfc-dd39-4db2-a5ee-b599c70d5e80","description":""},{"type":"response","source":"35f2811d-75f6-41bc-8c4c-cedae6afd4a2","target":"070adbfc-dd39-4db2-a5ee-b599c70d5e80","description":""},{"type":"exclude","source":"18cb3d0f-9fd4-47d8-b86f-f1654eaed760","target":"070adbfc-dd39-4db2-a5ee-b599c70d5e80","description":""}]}]}',"dcr")},newConstraint:function(t,e,s,n){var o=this,r=this.processes.filter((function(e){return e.id===t}));if(1===r.length){var i=this.processes.indexOf(r[0]);H.a.post(this.$backend.getUrlEditModel(e,s,n),this.processes[i].json).then((function(t){o.processes[i].json=t.data,o.refreshProcess=!0})).catch((function(t){return console.error(t)}))}},processRereshed:function(){this.refreshProcess=!1}},mounted:function(){var t=this;this.checkStatus(),setInterval((function(){t.checkStatus()}),15e3)}},st=et,nt=(s("034f"),Object(h["a"])(st,o,r,!1,null,null,null)),ot=nt.exports,rt=s("8c4f"),it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 mr-4 border-bottom "},[s("h1",{staticClass:"h2"},[t._v("Process "+t._s(this.process.name))]),"dcr"==this.process.type?s("b-button-group",{staticClass:"float-right"},[s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.new-constraint",modifiers:{"new-constraint":!0}}],attrs:{variant:"outline-secondary",size:"sm"}},[t._v(" Add constraint")]),s("b-dropdown",{attrs:{right:"",text:"Export",variant:"outline-secondary",size:"sm"}},[s("b-dropdown-item",{on:{click:t.exportJson}},[t._v("Export to DCR .json")])],1)],1):t._e()],1),s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",{attrs:{cols:"dcr"==this.process.type?10:12}},[s("ProcessRenderer",{ref:"dot",attrs:{dot:this.dot}})],1),"dcr"==this.process.type?s("b-col",{staticClass:"bg-light border-left border-bottom border-top pt-2"},[s("ProcessSimulator",{attrs:{json:this.process.json}})],1):t._e()],1)],1),s("NewConstraint",{on:{newConstraint:t.newConstraint}})],1)},at=[],ct=(s("d3b7"),s("3ca3"),s("ddb0"),s("2b3d"),s("9861"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("SvgPanZoom",{staticClass:"border w-100 svg-panzoom",class:{loading:null===this.svg},attrs:{viewportSelector:".graph",zoomEnabled:!0,controlIconsEnabled:!0,panEnabled:!0,fit:!1,center:!0,minZoom:.1,maxZoom:3},on:{svgpanzoom:t.registerSvgPanZoom}},[s("svg",{staticStyle:{overflow:"hidden"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[s("g",{staticClass:"svg-pan-zoom_viewport",domProps:{innerHTML:t._s(t.svg)}})])])}),lt=[],ut=(s("d81d"),s("ac1f"),s("1276"),s("2042")),dt=s("1c91"),mt=s.n(dt),pt=s("2c0f"),ft=s.n(pt),ht={props:["dot"],data:function(){return{svg:null,svgpanzoom:null}},components:{SvgPanZoom:ft.a},watch:{dot:"updateModel"},mounted:function(){this.updateModel()},methods:{updateModel:function(){var t=this;if(this.svg=null,null!==this.dot){var e=new ut["a"]({workerURL:mt.a});e.renderSVGElement(this.dot).then((function(e){t.viewBox=e.getAttribute("viewBox").split(" ").map(Math.ceil);var s=e.getElementsByClassName("graph")[0].innerHTML;t.svg=s,t.fitCenter()})).catch((function(t){return console.error(t)}))}},registerSvgPanZoom:function(t){this.svgpanzoom=t},fitCenter:function(){if(this.svgpanzoom&&this.viewBox&&this.svg){var t=this.viewBox[3],e=window.document.querySelector(".svg-panzoom");e&&this.svgpanzoom.pan({x:0,y:Math.abs(t)})}}}},bt=ht,gt=(s("54fc"),Object(h["a"])(bt,ct,lt,!1,null,"f2ea2192",null)),vt=gt.exports,yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h6",[t._v("Simulator")]),s("p",[this.status.accepting?s("span",[s("font-awesome-icon",{staticStyle:{color:"rgb(0, 204, 0)"},attrs:{icon:"check"}}),t._v(" Status: accepting")],1):s("span",[s("font-awesome-icon",{staticStyle:{color:"rgb(170, 20, 20)"},attrs:{icon:"exclamation"}}),t._v(" Activities missing: "),t._l(this.status.pendingActivities,(function(e){return s("span",{key:e},[s("b-badge",{attrs:{variant:"primary"}},[t._v(t._s(t.activityIdToName(e)))]),t._v("Â  ")],1)}))],2)]),s("b-card",{attrs:{"no-body":"",header:"Enabled activities"}},[0==t.status.enabledActivities.length?s("b-card-body",[s("b-card-text",[s("em",[t._v("No enabled activities")])])],1):s("b-list-group",{attrs:{flush:""}},t._l(t.status.enabledActivities,(function(e){return s("b-list-group-item",{key:e,attrs:{button:""},on:{click:function(s){return t.execute(e)}}},[t._v(" "+t._s(t.activityIdToName(e))+" ")])})),1)],1),this.simulationHistory.length>0?s("b-card",{staticClass:"mt-3",attrs:{"no-body":"",header:"Execution history"}},[s("b-list-group",{attrs:{flush:""}},[t._l(t.simulationHistory,(function(e){return s("b-list-group-item",{key:e.id},[s("small",[t._v(t._s(e.id+1)+".")]),t._v(" "+t._s(t.activityIdToName(e.name))+" ")])})),s("b-list-group-item",{attrs:{button:"",variant:"danger"},on:{click:function(e){return t.reset()}}},[t._v("Reset simulation")])],2)],1):t._e()],1)},wt=[],Pt={name:"ProcessSimulator",props:["json"],data:function(){return{simluationId:"",status:{enabledActivities:[],isAccepting:!1},simulationHistory:[]}},watch:{json:"initiateSimulation"},mounted:function(){this.initiateSimulation()},methods:{initiateSimulation:function(){var t=this;H.a.post(this.$backend.getUrlInitializeSimulation(),this.json).then((function(e){t.simluationId=e.data,t.checkStatus()})).catch((function(t){return console.error(t)}))},checkStatus:function(){var t=this;this.status.enabledActivities=[],H.a.get(this.$backend.getUrlSimulationStatus(this.simluationId)).then((function(e){t.status=e.data})).catch((function(t){return console.error(t)}))},execute:function(t){var e=this;H.a.get(this.$backend.getUrlSimulate(this.simluationId,t)).then((function(s){e.status=s.data,e.simulationHistory=[].concat(Object(i["a"])(e.simulationHistory),[{name:t,id:e.simulationHistory.length}])})).catch((function(t){return console.error(t)}))},reset:function(){var t=this;H.a.get(this.$backend.getUrlSimulationReset(this.simluationId)).then((function(){t.initiateSimulation(),t.simulationHistory=[],t.$toastr.s("Simulation reset")})).catch((function(t){return console.error(t)}))},activityIdToName:function(t){var e=this.json.activities.filter((function(e){return e.id===t}));return e[0].name}}},St=Pt,kt=Object(h["a"])(St,yt,wt,!1,null,null,null),_t=kt.exports,xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{attrs:{id:"new-constraint",title:"New Constraint"},on:{ok:t.handleOk}},[s("b-form-group",{attrs:{label:"Source activity:","label-for":"source"}},[s("b-form-input",{attrs:{required:"",placeholder:"Activity"},model:{value:t.source,callback:function(e){t.source=e},expression:"source"}})],1),s("b-form-group",{attrs:{label:"Relation:","label-for":"relation"}},[s("b-form-select",{attrs:{options:t.possibleRelations,required:""},model:{value:t.relation,callback:function(e){t.relation=e},expression:"relation"}})],1),s("b-form-group",{attrs:{label:"Target activity:","label-for":"target"}},[s("b-form-input",{attrs:{required:"",placeholder:"Activity"},model:{value:t.target,callback:function(e){t.target=e},expression:"target"}})],1)],1)},Ut=[],Ot={name:"NewConstraint",data:function(){return{source:"",relation:"",target:"",possibleRelations:["CONDITION","RESPONSE","INCLUDE","EXCLUDE","MILESTONE"]}},methods:{handleOk:function(){this.$emit("newConstraint",this.source,this.relation,this.target)}}},Ct=Ot,Mt=Object(h["a"])(Ct,xt,Ut,!1,null,null,null),jt=Mt.exports,$t={name:"ProcessView",props:["processes","refreshProcess"],data:function(){return{process:{id:"",name:"",json:"",type:"",dot:null},dot:null}},components:{ProcessRenderer:vt,ProcessSimulator:_t,NewConstraint:jt},created:function(){this.fetchData()},watch:{$route:"fetchData",refreshProcess:function(){this.refreshProcess&&this.renderProcess()}},methods:{fetchData:function(){var t=this;if("id"in this.$route.params){var e=this.processes.filter((function(e){return e.id===t.$route.params.id}));1===e.length?(this.process=e[0],this.renderProcess()):this.$router.push("/")}},renderProcess:function(){var t=this;this.dot=null,null!=this.process.dot?(this.dot=this.process.dot,this.$emit("processRereshed")):H.a.post(this.$backend.getUrlDcr2Dot(),this.process.json).then((function(e){t.dot=e.data,t.$emit("processRereshed")})).catch((function(t){return console.error(t)}))},exportJson:function(){var t=this;H.a.post(this.$backend.getUrlExportToDcrJson(),this.process.json).then((function(e){var s=window.URL.createObjectURL(new Blob([JSON.stringify(e.data)],{type:"application/json"})),n=document.createElement("a");n.href=s,n.download="Process-"+t.process.name+".json",n.click()})).catch((function(t){return console.error(t)}))},newConstraint:function(t,e,s){this.$emit("newConstraint",this.process.id,t,e,s)}}},Nt=$t,Rt=Object(h["a"])(Nt,it,at,!1,null,null,null),Dt=Rt.exports;n["default"].use(rt["a"]);var Et=[{path:"/process/:id",name:"ProcessView",component:Dt}],Jt=new rt["a"]({routes:Et}),Lt=Jt,Ft=(s("f9e3"),s("2dd8"),s("5f5b")),It=s("ecee"),zt=s("c074"),At=s("ad3d"),Tt=s("025a"),Ht=s("d4ec"),Bt=s("bee2"),qt=function(){function t(){Object(Ht["a"])(this,t),this.urls=s("fbab"),this.url="",this.getRandomURL()}return Object(Bt["a"])(t,[{key:"getRandomURL",value:function(){var t=this.getAllURLs();this.url=t.engine}},{key:"getAllURLs",value:function(){return this.urls}},{key:"getHostname",value:function(){return this.url.hostname}},{key:"getProtocol",value:function(){return this.url.protocol}},{key:"getUrl",value:function(){return this.getProtocol()+"://"+this.getHostname()}},{key:"getUrlPing",value:function(){return this.getUrl()+"/api/v1/system/ping"}},{key:"getUrlDcr2Dot",value:function(){return this.getUrl()+"/api/v1/dcr/dcr2graphviz"}},{key:"getUrlImportFromDcrJson",value:function(){return this.getUrl()+"/api/v1/dcr/importFromDcrJson"}},{key:"getUrlExportToDcrJson",value:function(){return this.getUrl()+"/api/v1/dcr/exportToDcrJson"}},{key:"getUrlInitializeSimulation",value:function(){return this.getUrl()+"/api/v1/dcr/simulation/initialize"}},{key:"getUrlSimulationStatus",value:function(t){return this.getUrl()+"/api/v1/dcr/simulation/"+t+"/status"}},{key:"getUrlSimulate",value:function(t,e){return this.getUrl()+"/api/v1/dcr/simulation/"+t+"/execute/"+e}},{key:"getUrlSimulationReset",value:function(t){return this.getUrl()+"/api/v1/dcr/simulation/"+t+"/reset"}},{key:"getUrlEditModel",value:function(t,e,s){return this.getUrl()+"/api/v1/dcr/edit/add/"+t+"/"+e+"/"+s}}]),t}(),Zt=function(){function t(){Object(Ht["a"])(this,t),this.urls=s("fbab"),this.url="",this.getRandomURL()}return Object(Bt["a"])(t,[{key:"getRandomURL",value:function(){var t=this.getAllURLs();this.url=t.miner}},{key:"getAllURLs",value:function(){return this.urls}},{key:"getHostname",value:function(){return this.url.hostname}},{key:"getProtocol",value:function(){return this.url.protocol}},{key:"getUrl",value:function(){return this.getProtocol()+"://"+this.getHostname()}},{key:"getUrlPing",value:function(){return this.getUrl()+"/api/v1/system/ping"}},{key:"getUrlMiner",value:function(){return this.getUrl()+"/api/v1/discover/mine"}}]),t}(),Vt=function(){function t(){Object(Ht["a"])(this,t),this.urls=s("fbab"),this.url="",this.getRandomURL()}return Object(Bt["a"])(t,[{key:"getRandomURL",value:function(){var t=this.getAllURLs();this.url=t.palia}},{key:"getAllURLs",value:function(){return this.urls}},{key:"getHostname",value:function(){return this.url.hostname}},{key:"getProtocol",value:function(){return this.url.protocol}},{key:"getUrl",value:function(){return this.getProtocol()+"://"+this.getHostname()}},{key:"getUrlPing",value:function(){return this.getUrl()+"/api/v1/system/ping"}},{key:"getUrlMiner",value:function(){return this.getUrl()+"/api/v1/discover/mine"}}]),t}();n["default"].use(Ft["a"]),It["c"].add(zt["a"]),n["default"].component("font-awesome-icon",At["a"]),n["default"].use(Tt["a"],{defaultPosition:"toast-bottom-right",defaultStyle:{opacity:1,"box-shadow":"none"}}),n["default"].prototype.$backend=new qt,n["default"].prototype.$backendMiner=new Zt,n["default"].prototype.$backendPalia=new Vt,n["default"].config.productionTip=!1,new n["default"]({router:Lt,render:function(t){return t(ot)}}).$mount("#app"),document.title="ProcessDryLab"},"6c4a":function(t,e,s){"use strict";s("338e")},"77ea":function(t,e,s){"use strict";s("9764")},"85ec":function(t,e,s){},9764:function(t,e,s){},db5b:function(t,e,s){},fbab:function(t){t.exports=JSON.parse('{"engine":{"protocol":"https","hostname":"pdl-engine-eu1.herokuapp.com"},"miner":{"protocol":"https","hostname":"dcr-miner-eu1.herokuapp.com"},"palia":{"protocol":"https","hostname":"palia-miner-eu1.herokuapp.com"}}')}});
//# sourceMappingURL=app.2c5fb617.js.map